{"version":3,"sources":["img/persik.png","components/MessageComponent/index.js","components/AnswerComponent/index.js","constants/messages.js","components/DeskComponent/index.js","App.js","panels/Persik.js","index.js"],"names":["module","exports","MessageComponent","props","state","sendBy","className","this","text","React","Component","But","handleClick","setState","messageAns","checked","onClick","AnswerComponent","handleParentClick","txt","message","console","log","userAnswered","answer","messages","sender","DeskComponent","clicker","curMessages","map","item","index","length","key","App","platform","useState","setUser","size","setPopout","useEffect","a","bridge","send","user","subscribe","detail","type","data","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","fetchData","ReactDOM","render","getElementById"],"mappings":"yGAAAA,EAAOC,QAAU,IAA0B,oC,ilBCItBC,G,gEACjB,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CACTC,OAAQF,EAAME,QAHH,E,qDAOf,OACI,yBAAKC,UAAiC,SAAtBC,KAAKH,MAAMC,OAAoB,gBAAkB,WAC7D,2BAAIE,KAAKJ,MAAMK,W,GAVeC,IAAMC,YCE9CC,G,gEACF,WAAYR,GAAQ,IAAD,8BACf,cAAMA,IAKVS,YAAc,WACV,EAAKC,SAAS,CACVC,WAAY,EAAKX,MAAMK,KACvBO,QAAS,EAAKZ,MAAMY,WAPxB,EAAKX,MAAQ,CACTU,YAAY,GAHD,E,qDAYT,IAAD,EACqBP,KAAKJ,MAAvBK,EADH,EACGA,KAAMQ,EADT,EACSA,QAEd,OACI,4BAAQA,QAAS,kBAAMA,EAAQR,KAAQA,O,GAjBjCC,IAAMC,YAuBHO,E,kDACjB,WAAYd,GAAQ,IAAD,8BACf,cAAMA,IASVe,kBAAoB,SAACC,GACjB,EAAKN,SAAS,CACVO,QAASD,EACTJ,SAAS,IAEbM,QAAQC,IAAI,UAAW,EAAKlB,MAAOe,IAbnC,EAAKf,MAAQ,CACTW,SAAS,EACTK,QAAS,GACTZ,KAAML,EAAMK,KACZe,aAAcpB,EAAMoB,cANT,E,qDAiBT,IAAD,OACGf,EAASD,KAAKH,MAAdI,KACAQ,EAAYT,KAAKJ,MAAjBa,QACFQ,EAAShB,EAEf,OACI,qCACMD,KAAKH,MAAMW,SAAW,yBAAKT,UAAU,SAASU,QAAS,WAAQA,MAC7D,kBAAC,EAAD,CAAKR,KAAMgB,EAAO,GAAGhB,KAAMQ,QAAS,SAACG,GAAD,OAAS,EAAKD,kBAAkBC,MACpE,kBAAC,EAAD,CAAKX,KAAMgB,EAAO,GAAGhB,KAAMQ,QAAS,SAACG,GAAD,OAAS,EAAKD,kBAAkBC,OAEvEZ,KAAKH,MAAMW,SAAW,kBAAC,EAAD,CAAkBP,KAAMD,KAAKH,MAAMgB,QAASf,OAAO,c,GA7B7CI,IAAMC,WC7BtCe,EAAW,CACpB,CACIjB,KAAM,qIACNkB,OAAQ,WAEZ,CACIlB,KAAM,+CACNkB,OAAQ,WAEZ,CACI,CACIlB,KAAM,2FACNkB,OAAQ,QAEZ,CACIlB,KAAM,wGACNkB,OAAQ,UCVCC,E,kDACjB,WAAYxB,GAAQ,IAAD,8BACf,cAAMA,IAOVyB,QAAU,WACNP,QAAQC,IAAI,GACZ,EAAKT,SAAS,CACVU,cAAc,KATlB,EAAKnB,MAAQ,CACTqB,SAAU,EACVpB,OAAQ,OACRkB,cAAc,GALH,E,qDAcT,IAAD,OAECM,GADatB,KAAKH,MAAhBC,OACYoB,GACpB,OACI,yBAAKnB,UAAU,QACVuB,EAAYC,KAAI,SAACC,EAAMC,GAAP,OACbD,EAAKE,OAAS,kBAAC,EAAD,CAAiBzB,KAAMuB,EAAMf,QAAS,EAAKY,QAASL,aAAc,EAAKnB,MAAMmB,eAAmB,kBAAC,EAAD,CAAkBW,IAAKF,EAAOxB,KAAMuB,EAAKvB,e,GArBhIC,IAAMC,W,wDCmClCyB,G,mCC7BAC,cDHH,WAAO,IAAD,EACqBC,mBAAS,QAD9B,gCAEcA,mBAAS,OAFvB,mBAEGC,GAFH,aAGWD,mBAAS,kBAAC,IAAD,CAAeE,KAAK,WAHxC,mBAGFC,GAHE,WAKjBC,qBAAU,WAAM,4CAQf,4BAAAC,EAAA,sEACoBC,IAAOC,KAAK,uBADhC,OACOC,EADP,OAECP,EAAQO,GACRL,EAAU,MAHX,4CARe,sBACfG,IAAOG,WAAU,YAAgC,IAAD,IAA5BC,OAAUC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,KACnC,GAAa,yBAATD,EAAiC,CACpC,IAAME,EAAkBC,SAASC,gBAAgB,UACjDF,EAAgBG,MAAQJ,EAAKK,OAASL,EAAKK,OAAS,eACpDH,SAASI,KAAKC,WAAWC,aAAaP,OALzB,mCAafQ,KACE,IAMH,OACC,yBAAKpD,UAAU,WACd,kBAAC,EAAD,SE5BHqC,IAAOC,KAAK,gBAEZe,IAASC,OAAO,kBAAC,EAAD,MAAST,SAASU,eAAe,W","file":"static/js/main.aabc6279.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/persik.4e1ec840.png\";","import React from 'react'\r\nimport './index.css'\r\n\r\n\r\nexport default class MessageComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            sendBy: props.sendBy\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className={this.state.sendBy === 'user' ? \"message user \" : \"message\"}>\r\n                <p>{this.props.text}</p>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport './index.css'\r\nimport MessageComponent from '../MessageComponent'\r\nimport $ from 'jquery'\r\n\r\n\r\nclass But extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            messageAns: false\r\n        }\r\n    }\r\n    handleClick = () => {\r\n        this.setState({\r\n            messageAns: this.props.text,\r\n            checked: this.props.checked\r\n        })\r\n    }\r\n    render() {\r\n        const { text, onClick } = this.props\r\n\r\n        return (\r\n            <button onClick={() => onClick(text)}>{text}</button>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default class AnswerComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            checked: false,\r\n            message: '',\r\n            text: props.text,\r\n            userAnswered: props.userAnswered\r\n        }\r\n\r\n    }\r\n    handleParentClick = (txt) => {\r\n        this.setState({\r\n            message: txt,\r\n            checked: true\r\n        })\r\n        console.log('message', this.state, txt)\r\n    }\r\n    render() {\r\n        const { text } = this.state\r\n        const { onClick } = this.props\r\n        const answer = text\r\n\r\n        return (\r\n            <>\r\n                {!this.state.checked && <div className=\"answer\" onClick={() => { onClick() }} >\r\n                    <But text={answer[0].text} onClick={(txt) => this.handleParentClick(txt)} />\r\n                    <But text={answer[1].text} onClick={(txt) => this.handleParentClick(txt)} />\r\n                </div>}\r\n                {this.state.checked && <MessageComponent text={this.state.message} sendBy=\"user\"/>}\r\n\r\n            </>\r\n        )\r\n    }\r\n}","export const messages = [\r\n    {\r\n        text: 'Привет! Давно не виделись',\r\n        sender: 'default'\r\n    },\r\n    {\r\n        text: 'Как дела?',\r\n        sender: 'default'\r\n    },\r\n    [\r\n        {\r\n            text: 'Привет, все супер!',\r\n            sender: 'user'\r\n        },\r\n        {\r\n            text: 'Привет, очень плохо((',\r\n            sender: 'user'\r\n        }\r\n    ]\r\n]","import React from 'react'\r\nimport './index.css'\r\nimport MessageComponent from '../MessageComponent'\r\nimport AnswerComponent from '../AnswerComponent'\r\nimport { messages } from '../../constants/messages'\r\n\r\nexport default class DeskComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            messages: 0,\r\n            sendBy: 'user',\r\n            userAnswered: false\r\n        }\r\n    }\r\n    clicker = () => {\r\n        console.log(1)\r\n        this.setState({\r\n            userAnswered: true\r\n        })\r\n    }\r\n    render() {\r\n        const { sendBy } = this.state\r\n        const curMessages = messages\r\n        return (\r\n            <div className=\"desk\">\r\n                {curMessages.map((item, index) => (\r\n                    item.length ? <AnswerComponent text={item} onClick={this.clicker} userAnswered={this.state.userAnswered} /> : <MessageComponent key={index} text={item.text} />\r\n                ))}\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport DeskComponent from './components/DeskComponent'\nimport Home from './panels/Home';\nimport Persik from './panels/Persik';\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t\tsetPopout(null);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\treturn (\n\t\t<div className=\"content\">\n\t\t\t<DeskComponent />\n\t\t</div>\n\t);\n}\n\nexport default App;\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport persik from '../img/persik.png';\nimport './Persik.css';\n\nconst osName = platform();\n\nconst Persik = props => (\n\t<Panel id={props.id}>\n\t\t<PanelHeader\n\t\t\tleft={<PanelHeaderButton onClick={props.go} data-to=\"home\">\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t\t</PanelHeaderButton>}\n\t\t>\n\t\t\tPersik\n\t\t</PanelHeader>\n\t\t<img className=\"Persik\" src={persik} alt=\"Persik The Cat\"/>\n\t</Panel>\n);\n\nPersik.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default Persik;\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n"],"sourceRoot":""}